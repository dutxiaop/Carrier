## TCP 连接监听和接收的详细拆解

### 1. 创建 ServerSocket

1.1 获取配置的端口号：从配置管理组件中获取配置的监听端口号。
1.2 实例化 ServerSocket：使用获取到的端口号实例化一个 ServerSocket 对象。
1.3 设置超时时间（可选）：为 ServerSocket 设置接受连接的超时时间，以防止阻塞。

### 2. 启动监听线程

2.1 创建监听线程：创建一个新线程，用于监听客户端连接请求。
2.2 编写监听逻辑：在监听线程中，持续调用 ServerSocket 的 accept() 方法，等待客户端连接。
2.3 处理异常：在监听线程中处理可能出现的异常，如 SocketTimeoutException 等。

### 3. 接收客户端连接

3.1 接受连接请求：调用 ServerSocket 的 accept() 方法，接收到客户端的连接请求后，创建一个新的 Socket 对象。
3.2 设置 Socket 选项（可选）：根据需要，为新创建的 Socket 设置一些选项，如 SO_TIMEOUT、TCP_NODELAY 等。

### 4. 线程池处理连接

4.1 初始化线程池：根据配置参数，初始化一个固定大小或可扩展的线程池。
4.2 提交任务到线程池：将处理客户端连接的任务提交到线程池，任务中包括解析 HTTP 请求、分发请求、生成和发送 HTTP 响应等。
4.3 监控线程池状态（可选）：可定时监控线程池的状态，如活动线程数、任务队列长度等，以评估服务器性能和负载情况。
4.4 关闭线程池（可选）：在服务器关闭时，关闭线程池，释放资源。
